<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>KineWatch</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main class="popup">
      <header class="hero">
        <span class="hero-badge">Smart speed</span>
        <h1>KineWatch</h1>
        <p>
          Define your slowest and fastest playback rates. KineWatch flows between
          them automatically using YouTube&rsquo;s watch heat-map.
        </p>
      </header>
      <form id="config-form" class="card">
        <section class="preset-panel">
          <div class="preset-heading">
            <span class="preset-title">Quick presets</span>
            <span class="preset-hint">Instantly apply your go-to ranges</span>
          </div>
          <div class="preset-chips" id="preset-chips">
            <button
              type="button"
              class="preset-chip"
              data-preset-min="1"
              data-preset-max="1.25"
            >
              Deep focus · 1×–1.25×
            </button>
            <button
              type="button"
              class="preset-chip"
              data-preset-min="1"
              data-preset-max="1.75"
            >
              Balanced · 1×–1.75×
            </button>
            <button
              type="button"
              class="preset-chip"
              data-preset-min="1"
              data-preset-max="2"
            >
              Speedrun · 1×–2×
            </button>
            <button
              type="button"
              class="preset-chip"
              data-preset-min="1.25"
              data-preset-max="2.5"
            >
              Power skim · 1.25×–2.5×
            </button>
          </div>
        </section>
        <div class="field-grid">
          <label class="field">
            <span class="field-label">Minimum speed</span>
            <input
              id="min-speed"
              name="min-speed"
              type="number"
              min="0.1"
              max="16"
              step="any"
              required
            />
            <span class="field-hint">Slowest playback KineWatch will use.</span>
          </label>
          <label class="field">
            <span class="field-label">Maximum speed</span>
            <input
              id="max-speed"
              name="max-speed"
              type="number"
              min="0.1"
              max="16"
              step="any"
              required
            />
            <span class="field-hint">Fastest playback KineWatch will use.</span>
          </label>
        </div>
        <section class="advanced-panel">
          <div class="advanced-heading">
            <span class="advanced-title">Advanced controls</span>
            <span class="advanced-hint">
              Fine-tune smoothing and refresh cadence.
            </span>
          </div>
          <div class="advanced-grid">
            <label class="field">
              <span class="field-label">Speed smoothing</span>
              <input
                id="smoothing"
                type="range"
                min="0"
                max="0.9"
                step="0.05"
                value="0.25"
              />
              <span class="field-hint">
                Dampens sudden jumps. Current:
                <strong id="smoothing-value">25%</strong>
              </span>
            </label>
            <label class="field">
              <span class="field-label">Heat-map refresh (ms)</span>
              <input
                id="refresh-interval"
                type="number"
                min="250"
                max="4000"
                step="50"
                value="1000"
              />
              <span class="field-hint">
                Lower = snappier, higher = lighter on resources.
              </span>
            </label>
          </div>
        </section>
        <button id="save-button" type="submit">Save &amp; apply</button>
      </form>
      <div
        id="status"
        class="status"
        role="status"
        aria-live="polite"
        hidden
      ></div>
      <footer class="footer-note">
        Settings are saved to Chrome and applied instantly on active videos.
      </footer>
    </main>
    <script type="module" src="popup.js"></script>
  </body>
</html>
